# 20377199 赵芮箐 第8周作业

![image-20221022003804785](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20221022003804785.png)

### 任务一：用函数实现【检查路径装饰器】

```python
import os
from functools import wraps

# 用函数实现文件路径检查装饰器
def path_examine(path):
    def decorator(func):
        @ wraps(func)
        def wrapper(*args, **kwargs):
            if os.path.exists(path) == False:       # 检查路径是否存在
                print('The path does not exist! We creat for you.')
                os.mkdir(path)                      # 创建对应文件夹
            return func(*args,**kwargs)
        return wrapper
    return decorator

# 测试
path = 'test'
@ path_examine(path)

def test(path):
    print(os.path.exists(path))		# 检查路径是否存在输出布尔值
test(path)
```

- 无装饰器效果:

  ![image-20221027163917029](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20221027163917029.png)

- 有装饰器效果：

  ![image-20221027164021709](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20221027164021709.png)

  > 给出了提示，并且建立了相应的文件夹

### 任务二：用类实现【声音提醒函数结束装饰器】

```python
from functools import wraps
from playsound import playsound

# 用类实现声音提醒函数结束装饰器
class End_Music:
    def __init__(self):
        self.music_path_int = 'D:/code/mp2022/week8/music/int.mp3'
        self.music_path_list = 'D:/code/mp2022/week8/music/list.mp3'
        self.music_path_tuple = 'D:/code/mp2022/week8/music/tuple.mp3'
    
    def __call__(self, func):
        @ wraps(func)
        def wrapper(*args, **kwargs):
            ans_list = func(*args, **kwargs)
            for ans in ans_list:
                if isinstance(ans, int):
                    playsound(self.music_path_int)
                elif isinstance(ans, list):
                    playsound(self.music_path_list)
                elif isinstance(ans, tuple):
                    playsound(self.music_path_tuple)
            return func(*args, **kwargs)
        return wrapper

# 测试
@ End_Music()
def test():
    return 1, [1,2], (1,2)
test()
```

> 突然一时间不知道该怎么展示结果哈哈哈，按类型听到音乐了！

### 任务三：用类或函数实现【保存输出装饰器】

```python
# 用函数实现保存输出装饰器
def save_print(save_path):
    def decorator(func):
        @ wraps(func)
        def wrapper(*args, **kwargs):
            sys.stdout = open(save_path, 'w')
            return func(*args, **kwargs)
        return wrapper
    return decorator

# 测试
@ save_print('week8/save_print.txt')
def test():
    print('1')
    print('2')
    print('3')
test()
```

- 装饰器效果：

  ![image-20221031105307034](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20221031105307034.png)

  > 将运行过程中的输出全部存入特定文件

### 任务四：用类模拟耗时耗内存的操作，并体验相关装饰器功能

```

```



### 代码：



### Ref:

- os模块：https://zhuanlan.zhihu.com/p/150835193
- 声音文件处理：https://blog.csdn.net/via_2020/article/details/108270536
- 